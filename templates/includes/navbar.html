{% load static %}
  <style>
    .box {
      max-width: 400px;
      width: 100%;
    }
    .box .search-box {
      position: relative;
      height: 50px;
      width: 300px;
      max-width: 390px;
      margin: auto;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.18);
      border-radius: 25px;
    }
    .search-box input{
      height: 100%;
      width: 100%;
      border-radius: 25px;
      background: white;
      outline-color: none;
      border: none;
      padding-left:  20px;
      font-size: 16px;
    }
  
    .search-box .icon {
      position: absolute;
      right: -1px;
      top: 0;
      width: 50px;
      background: rgb(219, 98, 28);
      height: 100%;
      text-align: center;
      line-height: 50px;
      color: white;
      font-size: 19px;
      border-radius:0 25px 25px 0;
    }
    
  </style>
  
  <nav class="navbar navbar-expand-lg bg-white">
      <div class="container-fluid">
        <div class="logo">
        <a href="{% url 'home' %}">
          <img src="{% static 'images/gym.png' %}" alt="" style="max-width:100px;">
        </a>
      </div>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="#">Calculators</a>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Categories
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li>
                  <a class="dropdown-item" href="{% url 'products' %}">All</a>
                </li>

                {% for categories in all_categories %}
                <li>
                  <a class="dropdown-item" href="{{categories.get_absolute_url}}" style="font-color: grey;">{{categories.name| capfirst}}</a>
                </li>
                {% endfor %}

              </ul>
            </li>         
  
            <li class="nav-item">
              <a class="nav-link" href="{% url 'products' %}">Shop</a>
            </li>
          </ul>
  

          <form  action="{% url 'search' %}" method="get">
          <div class="box">
            <div class="search-box">
            <input type="text" name="q" placeholder="Search">
            <a href = "{% url 'search'%}">
            <label for="" class="icon">
              <button><i class="fa-solid fa-magnifying-glass"></i></button>
            </label>
          </a>
          </div>
        </div>
      </form>

  
          {%if user.is_authenticated %}
          <ul class="navbar-nav form-inline ml-3 my-2 my-lg-0">   
            <li class="nav-item">

              <a type="button" role="button" href="#" style=" color: grey; padding: 15px;"> 
                <i class="fa fa-heart" aria-hidden="true"></i>
                  &nbsp;           
              </a>

          </li>   
            <li class="nav-item">

              <a type="button" role="button" href="{% url 'cart' %}" class="btn btn-outline-secondary" style="border-radius: 25px; color: grey; margin-right: 15px; padding: 13px;"> 
                  <i class="fa fa-shopping-cart fa-lg" aria-hidden="true"> </i>
                  &nbsp;
                  <div id="cart-quantity" class="d-inline-flex">
                      {% with qty_amount=cart|length %}
                       
                          {% if qty_amount > 0 %}
                      
                              {{ qty_amount }}
                              {% else %}
                                  0
                          {% endif %}
                      {% endwith %}
                  </div>             
              </a>

          </li>
          <li class="nav-item">
              <p style="margin-top: 8px; font-size: 13px; color: grey;">Welcome, {{user.first_name}}!</p>
              <a href="{% url 'profile' %}" style="float: left; margin-left: 16px; text-decoration: none; color: grey; margin-top: -15px;">My Account</a>
          </li>
          &nbsp;
          <li class="nav-item">
            <a class="nav-link" href="{% url 'logout' %}" style="margin-top: 8px;"><i class="fa fa-sign-out" aria-hidden="true"></i></a>
          </li>
          </ul>
          {%else%}
          <ul class="navbar-nav form-inline ml-3 my-2 my-lg-0">
            
            <li class="nav-item">

              <a type="button" role="button" href="{% url 'cart' %}" class="btn btn-outline-secondary" style="border-radius: 25px; color: grey; margin-right: 15px; padding: 13px;"> 
                  <i class="fa fa-shopping-cart fa-lg" aria-hidden="true"> </i>
                  &nbsp;
                  <div id="cart-quantity" class="d-inline-flex">
                      {% with qty_amount=cart|length %}
                       
                          {% if qty_amount > 0 %}
                      
                              {{ qty_amount }}
                              {% else %}
                                  0
                          {% endif %}
                      {% endwith %}
                  </div>             
              </a>

          </li>

              <li class="nav-item">
                <a class="nav-link" href="{% url 'login' %}" style="margin-top: 8px;">Sign In</a>  
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'register' %}"style="margin-top: 8px;">Sign Up</a>
            </li>
            </ul>
            {%endif%}
        </div>
      </div>
    
    </nav>
  

